---
import { Astronav } from "astro-navbar";

const menuitems = [
	{ href: "/roadmap", label: "Roadmap" },
	{ href: "/Jackpot", label: "Jackpot" },
	{ href: "/clankfun", label: "Clank.Fun" },
	{ href: "/dexscreener", label: "DexScreener" },
];

const navButton = {
	href: "https://github.com/manulthanura/Positivus",
	label: "Airdrop",
};
---

<div class="mt-20">
	<nav class="fixed top-0 left-0 z-50 w-full bg-white">
		<header
			class="my-5 flex flex-col items-center justify-between px-6 md:px-32 lg:flex-row"
		>
			<Astronav>
				<div class="flex w-full items-center justify-between lg:w-auto">
					<a href="/" class="flex items-center space-x-3 rtl:space-x-reverse">
						<img src="/Logo.svg" class="h-7" alt="Logo" />
					</a>
					<div class="block lg:hidden">
						<div id="menu-icon" class="h-8 w-8 cursor-pointer text-black">
							<!-- Open (hamburger) icon -->
							<svg
								id="open-icon"
								xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								class="h-8 w-8"
							>
								<path
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M4 6h16M4 12h16M4 18h16"></path>
							</svg>
							<!-- Close (X) icon -->
							<svg
								id="close-icon"
								xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								class="hidden h-8 w-8"
							>
								<path
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M6 18L18 6M6 6l12 12"></path>
							</svg>
						</div>
					</div>
				</div>

				<nav
					class="mt-2 hidden w-full lg:mt-0 lg:flex lg:w-auto"
					id="menu-items"
				>
					<ul
						class="mt-4 flex flex-col rounded-lg border p-4 font-medium lg:mt-0 lg:flex-row lg:items-center lg:space-x-8 lg:border-0 lg:p-0"
					>
						{
							menuitems.map((item) => (
								<li>
									<a
										href={item.href}
										class="mobile-nav-link block rounded-sm px-3 py-2 text-black lg:bg-transparent lg:p-0"
										data-close-menu="true"
									>
										{item.label}
									</a>
								</li>
							))
						}
						<div class="hidden items-center gap-4 lg:flex">
							<a
								class="inline-flex rounded-2xl border border-zinc-900 bg-white px-9 py-5 text-black hover:bg-black hover:text-white"
								href={navButton.href}
							>
								<h2 class="text-center text-xl leading-7 font-normal">
									{navButton.label}
								</h2>
							</a>
						</div>
						<div class="mt-3 flex items-center justify-center gap-4 lg:hidden">
							<a
								class="mobile-nav-link inline-flex rounded-2xl border border-zinc-900 bg-white px-9 py-5 text-black hover:bg-black hover:text-white"
								href={navButton.href}
								data-close-menu="true"
							>
								<h2 class="text-center text-xl leading-7 font-normal">
									{navButton.label}
								</h2>
							</a>
						</div>
					</ul>
				</nav>
			</Astronav>
		</header>
	</nav>
</div>

<script is:inline>
	// Get references to the menu icon, open/close icons, and menu items
	const menuIcon = document.getElementById("menu-icon");
	const openIcon = document.getElementById("open-icon");
	const closeIcon = document.getElementById("close-icon");
	const menuItems = document.getElementById("menu-items");
	const closeMenuItems = document.querySelectorAll('[data-close-menu="true"]'); // Select all items with the 'data-close-menu' attribute

	// Toggle the menu visibility and icon when the menu icon is clicked
	menuIcon.addEventListener("click", () => {
		menuItems.classList.toggle("hidden"); // Toggle the 'hidden' class on the menu

		// Toggle between open and close icons
		openIcon.classList.toggle("hidden");
		closeIcon.classList.toggle("hidden");
	});

	// Close the menu when any item is clicked
	closeMenuItems.forEach((item) => {
		item.addEventListener("click", () => {
			menuItems.classList.add("hidden"); // Add the 'hidden' class to hide the menu
			openIcon.classList.remove("hidden"); // Show the open (hamburger) icon
			closeIcon.classList.add("hidden"); // Hide the close (X) icon
		});
	});
</script>
